<!DOCTYPE html>
<html>
<head>
	<title>Google HomeAssist</title>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CDN Font Link -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400" rel="stylesheet">

    <!-- CDN for normalize.css. Use for production code -->
    <link rel="stylesheet" type="text/css" href="https://necolas.github.io/normalize.css/7.0.0/normalize.css">

    <!-- Offline normalize.css for local development -->
    <link rel="stylesheet" type="text/css" href="css/normalize.min.css">

    <!-- Minified style.css -->
    <link rel="stylesheet" type="text/css" href="css/style.min.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png">
</head>
<body>
    <div class="wrapper">
        <header id="header">
            <aside id="hamburgerButton" class="hamburgerButton">
                <span class="line1"></span>
                <span class="line2"></span>
                <span class="line3"></span>
            </aside>
            <a href="home.html">
                <img class="headerLogo" src="img/logo.png" alt="Logo">
            </a>
        </header>

        <main id="main">
            <section class="section">
                <h1>Welcome Home,<br>Forrest</h1>
                <p>The front door is unlocked.<br>Three lights are on.</p>
            </section>

            <section class="section">
                <article>
                    <p>Recent Scenes<br>Ngā Mahu o mua</p>
                </article>
                <article id="scenes" class="scenes">
                    <div class="scene isActiveScene">
                        <img src="img/icons/home.png" alt="Home Icon">
                        <p>I'm Home</p>
                    </div>
                    <div class="scene">
                        <img src="img/icons/night.png" alt="Night Icon">
                        <p>Goodnight</p>
                    </div>
                </article>
            </section>

            <section class="section">
                <article>
                    <p>Recent Devices<br>Pūrere o Mua</p>
                </article>
                <article id="devices" class="devices">
                    <div class="device">
                        <p>Bedroom 1 Lights</p>
                        <label class="switch">
                            <input type="checkbox" id="bedroom1Lights" class="toggleSwitch">
                            <div class="slider round"></div>
                        </label>
                    </div>
                    <div class="device">
                        <p>Lounge Television</p>
                        <label class="switch">
                            <input type="checkbox" id="loungeTV" class="toggleSwitch">
                            <div class="slider round"></div>
                        </label>
                    </div>
                    <div class="device">
                        <p>Dining Room Fan</p>
                        <label class="switch">
                            <input type="checkbox" id="diningFan" class="toggleSwitch">
                            <div class="slider round"></div>
                        </label>
                    </div>
                </article>
            </section>
        </main>
    </div>

	<footer id="footer">
        <p>© Forrest Wilson-Jennings 2017</p>
    </footer>

    <nav id="mobileNav" class="section">
        <h1>What would you like to do?</h1>
        <p>He aha e hiahia ana koe ki te mahi?</p>
        <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="all-rooms.html">View All Rooms</a></li>
            <li><a href="all-scenes.html">View All Scenes</a></li>
            <li><a href="add-device.html">Add a Device</a></li>
            <li><a href="index.html">Logout</a></li>
        </ul>
    </nav>

    <!-- Overlay -->
    <div id="overlay" class="section overlayOuter">
        <div class="section overlayInner">
            
        </div>
    </div>
    
    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

    <!-- jQuery Local -->
    <script src="js/jquery-3.2.1.min.js"></script>

    <!-- JS Link -->
    <script src="js/app.min.js"></script>

    <!-- Button Toggle JS Link -->
    <script src="js/buttonToggle.js"></script>

    <!-- Load switch states from memory -->
    <script type="text/javascript">
        function addClass(el, className) {
            if (el.classList)
                el.classList.add(className)
            else if (!hasClass(el, className)) el.className += " " + className
        }

        if (localStorage.getItem("switches") !== null) {
            var Storage = JSON.parse(localStorage.getItem("switches"));
            for (var i = 0; i < Storage.length; i++) {
                if(Storage[i]['active'] === 'true' ){
                    var SwitchID = Storage[i]['switch'];
                    var SwitchExists = document.getElementById(SwitchID);
                    if(SwitchExists !== null){
                        SwitchExists.checked = true;
                        var parent = SwitchExists.parentElement.parentElement;
                        addClass(parent, "isOnDevice");
                    }
                }
            };
        }
    </script>
</body>
</html>